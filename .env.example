# ----------------------------
# App variant / domains
# ----------------------------
# public: web principal (ttseasy.com)
# api: portal + docs + dashboard en api.ttseasy.com
APP_VARIANT=public
NEXT_PUBLIC_SITE_URL=https://ttseasy.com
NEXT_PUBLIC_API_BASE_URL=https://api.ttseasy.com

# ----------------------------
# Google Cloud Text-to-Speech
# ----------------------------
# Recomendado: usar un Service Account y pegar sus credenciales como variables.
# Nota: en Vercel, el private key suele pegarse con saltos de linea escapados (\\n).
GOOGLE_CLOUD_PROJECT_ID=
GOOGLE_CLOUD_CLIENT_EMAIL=
GOOGLE_CLOUD_PRIVATE_KEY=

# ----------------------------
# Upstash Redis (REST)
# ----------------------------
# Se usa para:
# - rate limit (por IP y ventana de tiempo)
# - contadores de coste mensual (budget guard)
# Si no se define, hay fallback en memoria (solo util en desarrollo; no compartido entre instancias).
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=

# ----------------------------
# Cloudflare Turnstile
# ----------------------------
# Si se define NEXT_PUBLIC_TURNSTILE_SITE_KEY, la UI exige token antes de generar.
# En produccion, TURNSTILE_SECRET_KEY es obligatorio para verificar el token en backend.
TURNSTILE_SECRET_KEY=
NEXT_PUBLIC_TURNSTILE_SITE_KEY=

# ----------------------------
# Analytics / Ads (opcionales)
# ----------------------------
NEXT_PUBLIC_GA_ID=
NEXT_PUBLIC_ADSENSE_CLIENT=
NEXT_PUBLIC_ADSENSE_SLOT_TOP=
NEXT_PUBLIC_ADSENSE_SLOT_MID=
NEXT_PUBLIC_ADSENSE_SLOT_STICKY=

# ----------------------------
# Control de costes
# ----------------------------
# Presupuesto mensual aproximado (USD) para el uso de Google TTS.
MONTHLY_BUDGET_USD=50

# ----------------------------
# API comercial (pay-as-you-go)
# ----------------------------
# Formato JSON (array) para mapear API keys a cuentas.
# Admite `key` (plano) o `key_sha256`.
# Ejemplo:
# API_BILLING_KEYS_JSON=[{"account_id":"acct_123","key_id":"key_live_1","key":"live_xxx","status":"active","billing_status":"active","monthly_hard_limit_chars":10000000,"rate_limit_per_minute":120}]
API_BILLING_KEYS_JSON=
# Compatibilidad temporal con claves legacy en env.
API_BILLING_LEGACY_FALLBACK_ENABLED=true
# Habilita resolución DB-first de API keys (Supabase/Postgres).
API_BILLING_DB_ENABLED=false
# Pepper opcional para hash de API keys (recomendado en producción).
API_KEY_HASH_PEPPER=
# Solo para dev local cuando no hay API_BILLING_KEYS_JSON.
API_BILLING_DEV_KEY=dev_api_key
# Trial inicial por cuenta (una sola vez).
API_BILLING_TRIAL_CHARS=500000
# Cobro minimo por factura mensual.
API_BILLING_INVOICE_MIN_USD=5
# Limite duro mensual por defecto si la cuenta no define uno.
API_BILLING_DEFAULT_MONTHLY_HARD_LIMIT_CHARS=100000000

# ----------------------------
# API comercial prepago (billing v2)
# ----------------------------
# Activa wallet prepago en EUR para /api/v1/tts y endpoints de billing v2.
API_BILLING_PREPAID_ENABLED=false
# Defaults de auto-recarga opcional (cliente puede modificar por cuenta via API).
API_BILLING_AUTO_RECHARGE_TRIGGER_EUR=2
API_BILLING_AUTO_RECHARGE_AMOUNT_EUR=10

# ----------------------------
# Stripe (prepago)
# ----------------------------
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
STRIPE_PUBLISHABLE_KEY=
STRIPE_ACCOUNT_COUNTRY=ES

# ----------------------------
# Supabase (portal auth + DB)
# ----------------------------
SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_URL=
SUPABASE_ANON_KEY=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=
SUPABASE_JWT_SECRET=

# ----------------------------
# SEO / Site
# ----------------------------
GOOGLE_SITE_VERIFICATION=
BING_SITE_VERIFICATION=
